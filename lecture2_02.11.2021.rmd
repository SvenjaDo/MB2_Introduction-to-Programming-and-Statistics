---
title: "lecuture2_02.11.21"
author: "Svenja Dobelmann"
date: "2 11 2021"
output: html_document
---

# Fun R Packages and Functions


```{r}
library(fun)
if(.Platform$OS.type=="windows")x11()else x11()type="Xlib"
x11()
mine_sweeper()
```
```{r}
library(sudoku)
playSudoku()
#x11() for another input window

```

# want to create memes?
```{r}
install.packages("devtools")
devtools::install_github("sctyner/memer")
library(memer)

meme_get("DistractedBf")
meme_get("AllTheThings")
dplyr::add_row(blankmemes, filename = "...", name = "...")
usethis::use_data(blankmemes, overwrite = T)
```


#feeling stupid?
```{r}
library(praise)
x11()
praise()
```

# resources for earth observation: 

overview of sensors 

#how many days till Birthday??
```{r}
difftime("2022-02-10",)

```

# kind of brackets: 
( for commands
[ for indexing 
{ for programming, grouping of commands

# execute data from last week: 

```{r}
library(raster)

borders<- getData("GADM",country="GRC",level=2) # get country borders
plot(borders)
prec<- getData("worldclim",var="prec",res=5,lon=20,lat=35)
plot(prec)

prec_country1<- crop(prec,borders) # crop prec to extent of ger
spplot(prec_country1)
prec_country2 <- mask(prec_country1,borders,inverse=T) # mask prec to shape of ger, inverse=T
spplot(prec_country2)

str(prec_country2)

prec_avg <- cellStats(prec_country2,stat="mean") # extract prec average of ger 
prec_avg
data.class(prec_avg)
plot(prec_avg)



```
one skript oer topic!!

# Get Data into R: 
## inport: 
read.table
read.csv
read.delim
read.xlsx
spss.get()

before: set working directory!
```{r}
getwd()
#setwd()
set_dir <- "C:/Users/49152/Documents/Universitas/Master_EAGLE/MB2/MB12"
setwd(set_dir)
```
## writing a table
write.table
```{r}
test <- read.csv2("test.csv",header = T, sep = ";")
test$Category<- as.factor(test$Category)
test
summary(test)

write.table(test,file="test2.txt")
```

```{r}
library(datapasta)
tribble_paste(test) 
tibble::tribble(
     ~Character, ~Number, ~Category,
          "Dog",      1L, "Animal ",
          "Cat",      2L, "Animal ",
     "Squirrel",      3L, "Animal ",
        "Eagle",      4L,   "Human"
     )

vector_paste(test) 

#c("c("Dog", "Cat", "Squirrel", "Eagle")", "1:4", "c(1, 1, 1, 2)")

vector_paste_vertical(test)
#c("c("Dog", "Cat", "Squirrel", "Eagle")",
     #"1:4",
     #"c(1, 1, 1, 2)")

df_paste(test)

data.frame(
  stringsAsFactors = FALSE,
         Character = c("Dog", "Cat", "Squirrel", "Eagle"),
            Number = c(1L, 2L, 3L, 4L),
          Category = as.factor(c("Animal ", "Animal ", "Animal ", "Human"))
   )

dpasta(set_dir)

c("C:/Users/49152/Documents/Universitas/Master_EAGLE/MB2/MB12")

readr:: #??
  
```
## Steigerwald

```{r}


library(RCurl)
df <- read.csv("https://raw.githubusercontent.com/wegmann/R_data/master/Steigerwald_sample_points_all_data_subset_withNames.csv")
df
head(df)
summary(df)
str(df)
levels(df)
```
# indexing: adress certain parts of your data

```{r}
c <- seq(1,100,by=2.5)
c
c[5]
c[4:10]
c[length(c)]
c[length(c)-5]

c[-2]


c>20

idx <- c(1,5,10)
c[idx]
c[-idx]

c[(c<10)|(c>=30)]

# change value: 
c2 <-  numeric(length(c))
c2[c<=30] <- 1
c2[(c>30)&(c<70)] <- 2
c2[c>70] <- 3
c2

# alternative: 
  library(car)
c2 <- recode(c,"0:30=1;30:70=2;else=3")
c2


```
## vector stats: 
```{r}
summary(c)
sum(c)
cumsum(c)
rev(c) # revert the order
sort(c, dec=T) # same here
sample(c,10) # sample 10 values out of c (random)



```

## Matrix Data: 
can only hold one data type 

```{r}
m1 <- matrix(c,nrow=4,ncol=10,byrow=F)
m1
```

### indexing matrix: 
```{r}
m1[,2] # 2nd column
m1[2,] # 2nd row
m1[3,10] # row and column 
```

```{r}
numbers_1 <- rnorm(80,mean=0,sd=1)
numbers_1
plot(sort(numbers_1))

mat_1 <- matrix(numbers_1,nrow=20)
mat_1

```

## convert matrix to data frame: 
```{r}
df_1 <- data.frame(mat_1)
df_1
names(df_1) <- c("var1","var2","var3","elephant")
head(df_1)
summary(df_1)

```

structure similar to a spatial data frame

```{r}
# create data frame from scratch 
test <- data.frame(A=c(1,2,3),B=c("aB1","aB2","aB3"))
# indicate inside data frame:
test[,"A"]
test$A
test[,1]
names(test)
test$A[1:2]
```
```{r}
df_1 <- data.frame(plot="location_name1",measure1=runif(100)*1000,measure2=round(runif(100)*100),value=rnorm(100,2,1),ID=rep(LETTERS,100)[1:100])

df_2 <- data.frame(plot="location_name2",measure1=runif(50)*100,measure2=round(runif(50)*10),value=rnorm(50),ID=rep(LETTERS,50)[1:50])

df <- rbind(df_1,df_2)
df2 <- cbind(df_1,df_2)
df2

# before we actually start
summary(df)
mode(df)

df[66:70,c("plot","measure1","measure2")]
df_subset <- df[66:70,c(1,2,3)]

plot(df_subset$measure1)

```


## A List: 
hold different object with different length 

```{r}
a <- runif(199)
b <- c("aa","bb","cc","dd","ee")

list <- list(df_1,df_2)
list[1]
list[[1]]
list[[2]][1]
```

```{r}
a <- list(obj_1=runif(100),obj_2=m1,obj_3=df_1)
a$obj_1
a[[1]]
a$obj_2[[4]]
```
```{r}
plot(df$measure1[df$measure2>20|df$measure2<=50])
points(df$measure2,col="red")
```
```{r}
boxplot(df$measure1,df$measure2)
```
```{r}
hist(df$measure1)
```
```{r}
coplot(measure1~measure2,data=df) #?? 
prec_avg[7]

plot()
```



# Back to steigerwald: 
```{r}
df <- read.csv("https://raw.githubusercontent.com/wegmann/R_data/master/Steigerwald_sample_points_all_data_subset_withNames.csv") 

df[,3]
df$LUCAS_LC
df["LUCAS_LC"]


plot(df$SRTM~df$TimeScan.NDVIavg)

plot(df$SRTM[df$TimeScan.NDVIavg>0.3])

plot(df$TimeScan.NDVIavg[df$SRTM<400&df$LUCAS_LC==1])


df2 <- df[df$TimeScan.NDVIavg>0.5,]
df3 <- df[df$LUCAS_LC<3&df$LUCAS_LC>1,]

df4 <- df["LUCAS_LC","SRTM"][df$L7.ndvi]

```

## put this script into github!
Fork: make a personal copy of a repository

